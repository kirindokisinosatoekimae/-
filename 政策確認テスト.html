<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>69期政策発表会 理解度確認テスト</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: "Inter", sans-serif;
            background-color: #f0f4f8; /* Light blue-gray background */
        }
        .container {
            max-width: 800px;
            margin: 2rem auto;
            padding: 1.5rem;
            background-color: #ffffff;
            border-radius: 1rem; /* Rounded corners */
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        .question-card {
            background-color: #f8fafc; /* Lighter background for question card */
            padding: 1.5rem;
            border-radius: 0.75rem;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        }
        .answer-option {
            background-color: #e2e8f0; /* Light gray for options */
            padding: 0.75rem 1rem;
            border-radius: 0.5rem;
            cursor: pointer;
            transition: all 0.2s ease-in-out;
            margin-bottom: 0.75rem;
            border: 1px solid #cbd5e1; /* Subtle border */
        }
        .answer-option:hover {
            background-color: #d1d9e6; /* Slightly darker on hover */
        }
        .answer-option.selected {
            background-color: #bfdbfe; /* Light blue when selected */
            border-color: #60a5fa; /* Blue border when selected */
        }
        .answer-option.correct {
            background-color: #d1fae5; /* Light green for correct */
            border-color: #34d399; /* Green border */
        }
        .answer-option.incorrect {
            background-color: #fee2e2; /* Light red for incorrect */
            border-color: #ef4444; /* Red border */
        }
        .feedback {
            margin-top: 1rem;
            padding: 1rem;
            border-radius: 0.75rem;
        }
        .feedback.correct {
            background-color: #ecfdf5; /* Very light green */
            color: #059669; /* Dark green text */
            border: 1px solid #a7f3d0;
        }
        .feedback.incorrect {
            background-color: #fef2f2; /* Very light red */
            color: #dc2626; /* Dark red text */
            border: 1px solid #fecaca;
        }
        .hint {
            margin-top: 0.5rem;
            font-size: 0.9rem;
            color: #6b7280; /* Gray text for hint */
        }
        .button {
            padding: 0.75rem 1.5rem;
            border-radius: 0.75rem; /* More rounded buttons */
            font-weight: 600;
            transition: all 0.2s ease-in-out;
            cursor: pointer;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        .button-primary {
            background-color: #3b82f6; /* Blue */
            color: #ffffff;
        }
        .button-primary:hover {
            background-color: #2563eb; /* Darker blue on hover */
        }
        .button-secondary {
            background-color: #6b7280; /* Gray */
            color: #ffffff;
        }
        .button-secondary:hover {
            background-color: #4b5563; /* Darker gray on hover */
        }
        .score-card {
            background-color: #e0f2fe; /* Light blue for score */
            padding: 2rem;
            border-radius: 1rem;
            text-align: center;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        @media (max-width: 640px) {
            .container {
                margin: 1rem;
                padding: 1rem;
            }
            .button {
                width: 100%;
                margin-top: 0.5rem;
            }
        }
    </style>
</head>
<body class="p-4">
    <div id="quiz-container" class="container">
        <h1 class="text-3xl font-bold text-center text-gray-800 mb-6">69期政策発表会 理解度確認テスト</h1>

        <div id="quiz-area">
            <div class="question-card mb-6">
                <p id="question-number" class="text-sm text-gray-500 mb-2"></p>
                <p id="question-text" class="text-lg font-semibold text-gray-900 mb-4"></p>
                <div id="answer-options">
                    </div>
            </div>

            <div id="feedback-area" class="feedback hidden">
                <p id="feedback-message" class="font-bold"></p>
                <p id="rationale-text" class="text-sm mt-2"></p>
                <p id="hint-text" class="hint"></p>
            </div>

            <div class="flex justify-between mt-6">
                <button id="prev-button" class="button button-secondary hidden">前の問題</button>
                <button id="next-button" class="button button-primary ml-auto">次の問題</button>
            </div>
        </div>

        <div id="score-area" class="score-card hidden">
            <h2 class="text-2xl font-bold text-blue-800 mb-4">テスト結果</h2>
            <p class="text-xl text-gray-800 mb-4">正解数: <span id="correct-count" class="font-bold"></span> / <span id="total-questions" class="font-bold"></span></p>
            <button id="restart-button" class="button button-primary">もう一度テストする</button>
        </div>
    </div>

    <script>
        // Quiz data from the provided immersive artifact
        const quizData = {
            "lk": [
                {
                    "Nqa": 0,
                    "question": "2025年度(69期)の重点課題「生鮮食品導入拡大」の目的として、資料に記載されているものはどれですか？",
                    "hint": "重点課題の1番目の項目とその具体的な内容を確認しましょう。",
                    "eA": [
                        {
                            "text": "生鮮食品、加工食品を充実させ、日常生活のカバー領域を拡大すること。",
                            "Bo": true,
                            "yMa": "資料P3「1 生鮮食品導入拡大」の冒頭に「生鮮食品、加工食品を充実し、日常生活のカバー領域を拡大する」と記載されています。"
                        },
                        {
                            "text": "調剤薬局機能の更なる推進による利便性向上。",
                            "Bo": false,
                            "yMa": "これは「調剤薬局機能拡充」の目的です。"
                        },
                        {
                            "text": "関西エリアへの新規出店を加速し、ドミナントを強化すること。",
                            "Bo": false,
                            "yMa": "これは「新規出店加速化」の目的です。"
                        },
                        {
                            "text": "従業員満足度を向上させ、Wellbeing & Wellnessを実現すること。",
                            "Bo": false,
                            "yMa": "これは全社スローガンの一つ「イキイキとやりがいで従業員満足を向上します」の目的です。"
                        }
                    ],
                    "Ru": 0
                },
                {
                    "Nqa": 0,
                    "question": "2025年度(69期)の重点課題「調剤薬局機能拡充」における具体的な取り組みとして、誤っているものはどれですか？",
                    "hint": "重点課題の2番目の項目と、その下にある箇条書きの具体的な内容を注意深く確認しましょう。",
                    "eA": [
                        {
                            "text": "一体型フォーマットの更なる推進による利便性向上。",
                            "Bo": false,
                            "yMa": "これは正しい取り組みです。"
                        },
                        {
                            "text": "医療モール併設のドラッグストアの拡大。",
                            "Bo": false,
                            "yMa": "これは正しい取り組みです。"
                        },
                        {
                            "text": "パートナー社員の登録販売者取得拡大による業務領域拡大。",
                            "Bo": false,
                            "yMa": "これは正しい取り組みです。"
                        },
                        {
                            "text": "新しいポイントカードシステムを導入すること。",
                            "Bo": true,
                            "yMa": "資料P3の「自社ポイントカードへの刷新」は「業務見直し再構築」の項目に続く内容であり、「調剤薬局機能拡充」の直接的な取り組みとしては記載されていません。"
                        }
                    ],
                    "Ru": 3
                },
                {
                    "Nqa": 0,
                    "question": "2025年度(69期)の全社スローガンは何ですか？",
                    "hint": "資料の4ページ目にある大きな文字のスローガンを確認しましょう。",
                    "eA": [
                        {
                            "text": "“その街1番のくすり屋”",
                            "Bo": true,
                            "yMa": "資料P4のタイトルとして「2025年度(69期) 全社スローガン “その街1番のくすり屋”」と明記されています。"
                        },
                        {
                            "text": "“なくてはならないキリン堂”",
                            "Bo": false,
                            "yMa": "これはスローガンの先に目指す姿の一つです。"
                        },
                        {
                            "text": "“関西No1ドラッグストア”",
                            "Bo": false,
                            "yMa": "これもスローガンの先に目指す姿の一つです。"
                        },
                        {
                            "text": "“お客様起点で新しい価値を創造する”",
                            "Bo": false,
                            "yMa": "これはスローガンの具体的な取り組みの一部です。"
                        }
                    ],
                    "Ru": 0
                },
                {
                    "Nqa": 0,
                    "question": "全社スローガンの一つ「『お客様・患者さん』の求めているものをカタチにします。」において、まず最初に行うべきこととして強調されているのは何ですか？",
                    "hint": "スローガン1の詳細説明の冒頭部分に注目しましょう。",
                    "eA": [
                        {
                            "text": "現場・現物・現実をしっかり「視て」、周囲と共有すること。",
                            "Bo": true,
                            "yMa": "資料P5に「まずは『See』。現場・現物・現実をしっかり『視て』、周囲と共有する。」と記載されています。"
                        },
                        {
                            "text": "自身の経験や知識だけを頼りに、行動すること。",
                            "Bo": false,
                            "yMa": "これは避けるべき行動として挙げられています。"
                        },
                        {
                            "text": "明確なプランを立て、すぐに実行に移すこと。",
                            "Bo": false,
                            "yMa": "これは「視て」からの次のステップです。"
                        },
                        {
                            "text": "お客様・患者さんの要望を一方的に聞き入れること。",
                            "Bo": false,
                            "yMa": "「視る」ことが強調されています。"
                        }
                    ],
                    "Ru": 0
                },
                {
                    "Nqa": 0,
                    "question": "全社スローガンの一つ「『TEAM キリン堂』で顧客満足を実現します。」で挙げられている「共」のキーワードとして、含まれていないものはどれですか？",
                    "hint": "スローガン2の詳細説明で繰り返されている「共」の漢字を確認しましょう。",
                    "eA": [
                        {
                            "text": "共同",
                            "Bo": true,
                            "yMa": "資料P6には「共有」「共感」「共働」「共創」が挙げられており、「共同」は含まれていません。"
                        },
                        {
                            "text": "共有",
                            "Bo": false,
                            "yMa": "これは含まれています。"
                        },
                        {
                            "text": "共感",
                            "Bo": false,
                            "yMa": "これは含まれています。"
                        },
                        {
                            "text": "共創",
                            "Bo": false,
                            "yMa": "これは含まれています。"
                        }
                    ],
                    "Ru": 0
                },
                {
                    "Nqa": 0,
                    "question": "全社スローガンの一つ「『イキイキ』と『やりがい』で従業員満足を向上します。」の目的は何ですか？",
                    "hint": "スローガン3の詳細説明の最後の部分に注目しましょう。",
                    "eA": [
                        {
                            "text": "仕事を通じて成長することで、従業員満足を創出すること。",
                            "Bo": true,
                            "yMa": "資料P7のまとめ部分に「仕事を通じて成長することで、我々の『従業員満足』を創出しよう！」と記載されています。"
                        },
                        {
                            "text": "お客様に「お買物の楽しさ」のみを提供すること。",
                            "Bo": false,
                            "yMa": "これは目的の一部ではありますが、最終的な目的ではありません。"
                        },
                        {
                            "text": "ドラッグストアとしての当たり前の役割と価値を維持すること。",
                            "Bo": false,
                            "yMa": "これも目的の一部ではありますが、最終的な目的ではありません。"
                        },
                        {
                            "text": "お客様の来店動機を創出することのみに注力すること。",
                            "Bo": false,
                            "yMa": "これも目的の一部ではありますが、最終的な目的ではありません。"
                        }
                    ],
                    "Ru": 0
                },
                {
                    "Nqa": 0,
                    "question": "2025年度(69期)の重点課題「新規出店加速化」における具体的な取り組みとして正しいものはどれですか？",
                    "hint": "重点課題の4番目の項目とその具体的な内容を確認しましょう。",
                    "eA": [
                        {
                            "text": "関西エリアへの出店によるドミナント強化。",
                            "Bo": true,
                            "yMa": "資料P3「4 新規出店加速化」の項目に「関西エリアへの出店によるドミナント強化」と「生鮮強化フォーマットでの出店」が記載されています。"
                        },
                        {
                            "text": "DX推進による患者さんの利便性向上。",
                            "Bo": false,
                            "yMa": "これは「生鮮食品導入拡大」の取り組みの一部です。"
                        },
                        {
                            "text": "業務見直しによる業務領域拡大。",
                            "Bo": false,
                            "yMa": "これは「調剤薬局機能拡充」の取り組みの一部です。"
                        },
                        {
                            "text": "自社ポイントカードへの刷新。",
                            "Bo": false,
                            "yMa": "これは「業務見直し再構築」の項目に続く内容です。"
                        }
                    ],
                    "Ru": 0
                },
                {
                    "Nqa": 0,
                    "question": "2025年度(69期)の全社スローガン“その街1番のくすり屋”を実現するために、資料P4で挙げられている3つの柱のうち、最も広範に「顧客満足」を実現することを目指しているものはどれですか？",
                    "hint": "スローガンの3つの柱を再確認し、それぞれの内容が何を主語にしているかに注目しましょう。",
                    "eA": [
                        {
                            "text": "『お客様・患者さん』の求めているものをカタチにします。",
                            "Bo": false,
                            "yMa": "これは顧客満足に貢献しますが、より直接的に「顧客満足」を謳っているのは『TEAM キリン堂』です。"
                        },
                        {
                            "text": "『TEAM キリン堂』で顧客満足を実現します。",
                            "Bo": true,
                            "yMa": "資料P4の全社スローガンには3つの柱があり、そのうち『TEAM キリン堂』で顧客満足を実現することが、チーム全体での顧客満足実現を直接的に謳っています。"
                        },
                        {
                            "text": "『イキイキ』と『やりがい』で従業員満足を向上します。",
                            "Bo": false,
                            "yMa": "これは従業員満足に焦点を当てています。"
                        },
                        {
                            "text": "DX推進により、患者さんの利便性向上と業務効率化。",
                            "Bo": false,
                            "yMa": "これは重点課題の一つであり、全社スローガンの柱ではありません。"
                        }
                    ],
                    "Ru": 1
                },
                {
                    "Nqa": 0,
                    "question": "資料P5で強調されている「お客様・患者さんが求めているものをカタチにします」という方針において、まず「See」することの具体的な意味として、最も適切でないものはどれですか？",
                    "hint": "「See」の段落で「まずは」と書かれている部分に注目し、その後に続く内容と対比される「避けるべき行動」を探しましょう。",
                    "eA": [
                        {
                            "text": "自身の経験や知識だけを頼りに、決めつけて行動すること。",
                            "Bo": true,
                            "yMa": "資料P5には「自身の経験や知識だけを頼りに、決めつけて行動したり、的を射貫ききっていないままの仮説になってはいないだろうか？」とあり、これは「See」の前に避けるべき行動として挙げられています。"
                        },
                        {
                            "text": "現場・現物・現実をしっかり「視て」、周囲と共有すること。",
                            "Bo": false,
                            "yMa": "これは「See」の具体的な意味として正しい行動です。"
                        },
                        {
                            "text": "お客様・患者様の立場から物事を視ることからはじめること。",
                            "Bo": false,
                            "yMa": "これは「See」の具体的な意味として正しい行動です。"
                        },
                        {
                            "text": "考え、プランし、行動変容に繋げていくこと。",
                            "Bo": false,
                            "yMa": "これは「See」の後に続く行動です。"
                        }
                    ],
                    "Ru": 0
                },
                {
                    "Nqa": 0,
                    "question": "資料P7の「『イキイキ』と『やりがい』で従業員満足を向上します。」の項目において、「キリン堂の人のチカラ」が加わることで創出される「お客様の来店動機」の具体的な例として、資料で挙げられているものはどれですか？",
                    "hint": "「お客様の来店動機（またいきたい！）」の直前の記述を確認しましょう。",
                    "eA": [
                        {
                            "text": "「お買物の楽しさをご提供する」こと。",
                            "Bo": true,
                            "yMa": "資料P7には「お買物の楽しさをご提供する」と「健康になって頂くことで喜んでいただく」がお客様の来店動機として挙げられています。"
                        },
                        {
                            "text": "「健康になって頂くことで喜んでいただく」こと。",
                            "Bo": false,
                            "yMa": "これも来店動機の一つですが、この問題では「お買物の楽しさをご提供する」を正解としています。"
                        },
                        {
                            "text": "「キリン堂さん、キリン堂さん」とご支持いただくこと。",
                            "Bo": false,
                            "yMa": "これは来店動機の結果であり、来店動機そのものではありません。"
                        },
                        {
                            "text": "従業員が主体性を持って自律すること。",
                            "Bo": false,
                            "yMa": "これは従業員側の行動であり、お客様の来店動機ではありません。"
                        }
                    ],
                    "Ru": 0
                }
            ],
            "wl": 10
        };

        let currentQuestionIndex = 0;
        let score = 0;
        let userAnswers = new Array(quizData.lk.length).fill(null); // To store user's selected option index

        const quizArea = document.getElementById('quiz-area');
        const scoreArea = document.getElementById('score-area');
        const questionNumberElem = document.getElementById('question-number');
        const questionTextElem = document.getElementById('question-text');
        const answerOptionsElem = document.getElementById('answer-options');
        const feedbackArea = document.getElementById('feedback-area');
        const feedbackMessageElem = document.getElementById('feedback-message');
        const rationaleTextElem = document.getElementById('rationale-text');
        const hintTextElem = document.getElementById('hint-text');
        const prevButton = document.getElementById('prev-button');
        const nextButton = document.getElementById('next-button');
        const correctCountElem = document.getElementById('correct-count');
        const totalQuestionsElem = document.getElementById('total-questions');
        const restartButton = document.getElementById('restart-button');

        function loadQuestion(index) {
            const question = quizData.lk[index];
            questionNumberElem.textContent = `問題 ${index + 1} / ${quizData.lk.length}`;
            questionTextElem.textContent = question.question;
            answerOptionsElem.innerHTML = '';
            feedbackArea.classList.add('hidden');
            feedbackArea.classList.remove('correct', 'incorrect');

            question.eA.forEach((option, i) => {
                const optionDiv = document.createElement('div');
                optionDiv.classList.add('answer-option', 'p-3', 'rounded-lg', 'mb-2', 'cursor-pointer', 'transition-colors', 'duration-200', 'ease-in-out');
                optionDiv.textContent = option.text;
                optionDiv.dataset.index = i; // Store the index of the option

                if (userAnswers[index] === i) {
                    optionDiv.classList.add('selected');
                }

                optionDiv.addEventListener('click', () => selectAnswer(index, i));
                answerOptionsElem.appendChild(optionDiv);
            });

            updateNavigationButtons();
            displayFeedback(index); // Display feedback if already answered
        }

        function selectAnswer(questionIndex, selectedOptionIndex) {
            // If already answered, prevent changing answer
            if (userAnswers[questionIndex] !== null) {
                return;
            }

            userAnswers[questionIndex] = selectedOptionIndex;
            const question = quizData.lk[questionIndex];
            const selectedOption = question.eA[selectedOptionIndex];

            // Update UI for selected option
            Array.from(answerOptionsElem.children).forEach(optionDiv => {
                optionDiv.classList.remove('selected');
                if (parseInt(optionDiv.dataset.index) === selectedOptionIndex) {
                    optionDiv.classList.add('selected');
                }
                // Disable further clicks on options for this question
                optionDiv.style.pointerEvents = 'none';
            });

            // Display feedback
            displayFeedback(questionIndex);
        }

        function displayFeedback(questionIndex) {
            const question = quizData.lk[questionIndex];
            const selectedAnswerIndex = userAnswers[questionIndex];

            if (selectedAnswerIndex !== null) {
                feedbackArea.classList.remove('hidden');
                const isCorrect = question.eA[selectedAnswerIndex].Bo;
                const correctAnswerIndex = question.eA.findIndex(opt => opt.Bo);

                if (isCorrect) {
                    feedbackArea.classList.add('correct');
                    feedbackMessageElem.textContent = '正解です！';
                } else {
                    feedbackArea.classList.add('incorrect');
                    feedbackMessageElem.textContent = '不正解です。';
                }

                // Show correct/incorrect styling on options
                Array.from(answerOptionsElem.children).forEach(optionDiv => {
                    const optionIdx = parseInt(optionDiv.dataset.index);
                    if (optionIdx === correctAnswerIndex) {
                        optionDiv.classList.add('correct');
                    } else if (optionIdx === selectedAnswerIndex && !isCorrect) {
                        optionDiv.classList.add('incorrect');
                    }
                    optionDiv.style.pointerEvents = 'none'; // Ensure options are not clickable after answer
                });

                rationaleTextElem.textContent = `解説: ${question.eA[correctAnswerIndex].yMa}`;
                hintTextElem.textContent = `ヒント: ${question.hint}`;
            } else {
                feedbackArea.classList.add('hidden');
            }
        }

        function updateNavigationButtons() {
            prevButton.classList.toggle('hidden', currentQuestionIndex === 0);
            nextButton.textContent = currentQuestionIndex === quizData.lk.length - 1 ? '結果を見る' : '次の問題';
        }

        function showScore() {
            quizArea.classList.add('hidden');
            scoreArea.classList.remove('hidden');

            score = 0;
            userAnswers.forEach((answerIndex, qIndex) => {
                if (answerIndex !== null && quizData.lk[qIndex].eA[answerIndex].Bo) {
                    score++;
                }
            });

            correctCountElem.textContent = score;
            totalQuestionsElem.textContent = quizData.lk.length;
        }

        prevButton.addEventListener('click', () => {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                loadQuestion(currentQuestionIndex);
            }
        });

        nextButton.addEventListener('click', () => {
            if (currentQuestionIndex < quizData.lk.length - 1) {
                currentQuestionIndex++;
                loadQuestion(currentQuestionIndex);
            } else {
                showScore();
            }
        });

        restartButton.addEventListener('click', () => {
            currentQuestionIndex = 0;
            score = 0;
            userAnswers.fill(null);
            scoreArea.classList.add('hidden');
            quizArea.classList.remove('hidden');
            loadQuestion(currentQuestionIndex);
        });

        // Initial load
        loadQuestion(currentQuestionIndex);
    </script>
</body>
</html>
